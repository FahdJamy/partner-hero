(this["webpackJsonppartner-hero"]=this["webpackJsonppartner-hero"]||[]).push([[0],{51:function(e,t,a){e.exports=a(82)},61:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),l=a(22),i=(a(61),a(62),a(24)),s=a(11),u=a(20),m=a(86),d=a(85),v=function(e){var t=e.favourites,a=e.onDeleteFavourite,c=e.onDeleteAllFavourites,o=e.onPictureDetails,l=Object(n.useState)(!1),i=Object(u.a)(l,2),s=i[0],v=i[1],p=function(){return v(!1)};return r.a.createElement("div",{className:"mt-4"},r.a.createElement("div",{className:"card-group"},function(){var e=[];if(t){var n=function(n){var c=t[n];e.push(r.a.createElement("div",{className:"card mr-4",style:{width:"18rem",marginRight:"10px"},key:c.date},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},c.title),r.a.createElement("p",{className:"card-text"},c.explanation.slice(0,70),"..."),r.a.createElement("button",{className:"btn btn-outline-danger mr-4",onClick:function(){return a(c.date)}},"Delete"),r.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){return o(c.date)}},"View"))))};for(var c in t)n(c)}return e}()),r.a.createElement("div",{className:"row mt-4 ml-3",style:{marginBottom:"20px"}},r.a.createElement(m.a,{id:"delete-all",variant:"outline-danger",onClick:function(){return v(!0)},disabled:0===Object.keys(t).length},"Delete all"),r.a.createElement(d.a,{show:s,onHide:p},r.a.createElement(d.a.Header,{closeButton:!0},r.a.createElement(d.a.Title,null,"Modal heading")),r.a.createElement(d.a.Body,null,"Are you sure you want to delete all your favourited pictures?"),r.a.createElement(d.a.Footer,null,r.a.createElement(m.a,{variant:"outline-secondary",onClick:p},"No"),r.a.createElement(m.a,{variant:"outline-danger",onClick:function(){p(),c()}},"Yes")))))},p=function(e){var t=e.picture,a=e.isLoading,n=e.setFavorite,c=e.onDateSelected,o=e.maxDate,l=e.disableNext,i=e.previousImageHandler,s=e.nextImageHandler,u=e.favourites;return r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"text-center mt-3"},t.title),r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("button",{className:"btn btn-outline-primary btn-sm",onClick:function(){return i()}},"Previous")),r.a.createElement("div",{className:"col-md-8"},!a&&r.a.createElement("img",{src:t.url,alt:"Pic of the day",className:"img-fluid"}),a&&r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-grow",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("button",{className:"btn btn-outline-primary btn-sm",onClick:function(){return s()},disabled:l},"Next"))),r.a.createElement("div",{className:"row justify-content-between mt-4"},r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{className:"btn btn-outline-primary btn-sm",onClick:function(){return n(t,t.date)},disabled:u[t.date]},u[t.date]?"Already set as favourite":"Set Favourite")),r.a.createElement("div",{className:"col-4"},r.a.createElement("input",{type:"date",value:t.date||"",className:"form-control",onChange:function(e){return c(e)},max:o}))),r.a.createElement("div",{className:"row mt-4"},t.explanation))},f=function(){var e=new Date,t=Object(n.useState)(e),a=Object(u.a)(t,2),c=a[0],o=a[1],m=Object(l.b)(),d=Object(l.c)((function(e){return e})),f=Object(n.useState)(!0),g=Object(u.a)(f,2),b=g[0],E=g[1],N=localStorage.getItem("favourites")?JSON.parse(localStorage.getItem("favourites")):{},O=Object(n.useState)(N),h=Object(u.a)(O,2),y=h[0],D=h[1];return Object(n.useEffect)((function(){var e="".concat(c.getFullYear(),"-").concat(c.getMonth()+1,"-").concat(c.getDate());m({type:"GET_ASYNC_DATA",payload:{apiDate:e}})}),[c]),r.a.createElement("div",{className:"container"},r.a.createElement(p,{picture:d.picture.picture,maxDate:"".concat(e.getFullYear(),"-").concat(e.getMonth()>9?"":"0").concat(e.getMonth(),"-").concat(e.getDate()),isLoading:d.picture.isLoading,favourites:y,disableNext:b,setFavorite:function(e,t){var a=localStorage.getItem("favourites")?JSON.parse(localStorage.getItem("favourites")):{},n=Object(s.a)(Object(s.a)({},a),{},Object(i.a)({},t,e));localStorage.setItem("favourites",JSON.stringify(n)),D(JSON.parse(localStorage.getItem("favourites")))},onDateSelected:function(e){o(new Date(e.target.value))},nextImageHandler:function(){var t=new Date(c.setDate(c.getDate()+1));"".concat(t.getFullYear(),"-").concat(t.getMonth(),"-").concat(t.getDate())==="".concat(e.getFullYear(),"-").concat(e.getMonth(),"-").concat(e.getDate())&&E(!0),o(t)},previousImageHandler:function(){o(new Date(c.setDate(c.getDate()-1))),E(!1)}}),r.a.createElement("div",{className:"row"},r.a.createElement(v,{favourites:y,onDeleteFavourite:function(e){var t=JSON.parse(localStorage.getItem("favourites"));delete t[e],localStorage.setItem("favourites",JSON.stringify(t)),D(JSON.parse(localStorage.getItem("favourites")))},onDeleteAllFavourites:function(){localStorage.removeItem("favourites"),D({})},onPictureDetails:function(e){o(new Date(e))}})))},g=function(){return r.a.createElement(f,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=a(17),E=a(50),N={isLoading:!1,error:null,picture:{}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PICTURE_DATA_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,error:null,picture:Object(s.a)({},t.payload)});case"FETCH_PICTURE_DATA_START":return Object(s.a)(Object(s.a)({},e),{},{error:null,isLoading:!0,picture:{}});case"FETCH_PICTURE_DATA_FAILURE":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,picture:{},error:t.payload});default:return e}},h=a(15),y=a.n(h),D=a(16),j=a(48),w=a(49),S=a.n(w),x=function(){var e=Object(j.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=y.a.mark((function e(t){var a,n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,e.prev=1,e.next=4,Object(D.d)({type:"FETCH_PICTURE_DATA_START"});case 4:return n="https://api.nasa.gov/planetary/apod?api_key=".concat("l7UsTURgWDApsG0c1luc1dB1y8HKVH6ehww3eRaa","&date=").concat(a.apiDate),e.next=7,Object(D.b)(x,n);case 7:return r=e.sent,e.next=10,Object(D.d)({type:"FETCH_PICTURE_DATA_SUCCESS",payload:r});case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Object(D.d)({type:"FETCH_PICTURE_DATA_FAILURE",payload:e.t0});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})),A=y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.e)("GET_ASYNC_DATA",T);case 2:case"end":return e.stop()}}),e)})),C=y.a.mark(I);function I(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)([Object(D.c)(A)]);case 2:case"end":return e.stop()}}),C)}var _=Object(b.c)({picture:O}),k=Object(E.a)(),F=Object(b.e)(_,Object(b.a)(k));k.run(I);var H=F;o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:H},r.a.createElement(g,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.163d184d.chunk.js.map